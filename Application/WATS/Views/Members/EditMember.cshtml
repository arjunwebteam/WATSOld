@{
    ViewBag.Title = "EditMember";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    var objMembers = (WATS.Entities.Members)ViewBag.objMembers;
    var lstMembershipType = (List<WATS.Entities.MembershipTypes>)objMembers.lstMembershipType;
    var lstPaymentMethod = (List<WATS.Entities.PaymentMethods>)objMembers.lstPaymentMethod;
    var lstPaymentStatus = (List<WATS.Entities.PaymentStatus>)objMembers.lstPaymentStatus;
    var objMemberDetails = (WATS.Entities.Members)ViewBag.objMemberDetails;
}


<!-- Fonts -->

<script type="text/javascript">
    function addRow() {

        var table = document.getElementById("childinfo");

        var rowCount = table.rows.length;
        var row = table.insertRow(rowCount);
        row.id = rowCount;

        var cell1 = row.insertCell(0);
        var element1 = document.createElement("input");
        element1.type = "text";
        element1.name = "[" + (rowCount - 1) + "].FirstName";
        element1.id = "FirstName-" + (rowCount - 1);
        element1.className = "span2 sepH_am";
        cell1.appendChild(element1);

        //var cell2 = row.insertCell(1);
        //var element2 = document.createElement("input");
        //element2.type = "text";
        //element2.name = "[" + (rowCount - 1) + "].LastName";
        //element2.id = "LastName-" + (rowCount - 1);
        //element2.className = "span2 sepH_am";
        //cell2.appendChild(element2);

        var cell2 = row.insertCell(1);
        var element2 = document.createElement("input");
        element2.type = "text";
        element2.className = "span1 sepH_am";
        element2.name = "[" + (rowCount - 1) + "].Age";
        element2.id = "Age-" + (rowCount - 1);
        cell2.appendChild(element2);

        //var cell4 = row.insertCell(3);
        //var element4 = document.createElement("input");
        //element4.type = "text";
        //element4.className = "span2 sepH_am";
        //element4.name = "[" + (rowCount - 1) + "].Relationship";
        //element4.id = "Relationship-" + (rowCount - 1);

        //cell4.appendChild(element4);
        document.getElementById("Age-" + (rowCount - 1)).onkeypress = function (event) { return Common.isNumberKey(event) };
        var cell3 = row.insertCell(2);
        cell3.innerHTML = '<a onclick="javascript:deleteRow(' + rowCount + ')" class="pagedelete t-p10"><i class="icon-trash"></i></a>';
        $('#hdnRowCount').val(rowCount);
    }

    function deleteRow(i) {
        try {
            var row = document.getElementById(i);
            row.parentNode.removeChild(row);
        } catch (e) {
            alert(e);
        }
    }

    function DropDown(el) {
        this.dd = el;
        this.initEvents();
    }
    DropDown.prototype = {
        initEvents: function () {
            var obj = this;

            obj.dd.on('click', function (event) {
                $(this).toggleClass('active');
                event.stopPropagation();
            });
        }
    }

    $(function () {

        var dd = new DropDown($('#dd'));

        $(document).click(function () {

            $('.wrapper-dropdown-3').removeClass('active');

        });

    });

    function CheckEmailAvailability(email) {

        var returnval = null;

        $.ajax({
            type: "POST",
            url: '@Url.Action("CheckEmailAvailability", "Members")', // the URL of the controller action method
            data: { Email: email }, // optional data
            datatype: "JSON",
            async: false,
            success: function (result) {
                if (result.ok) {
                    returnval = result.data;
                }
            }
        });
        return returnval;
    }

    function CheckUserNameAvailability(username) {

        var returnval = null;

        $.ajax({
            type: "POST",
            url: '@Url.Action("CheckUserNameAvailability", "Members")', // the URL of the controller action method
            data: { UserName: username }, // optional data
            datatype: "JSON",
            async: false,
            success: function (result) {
                if (result.ok) {
                    returnval = result.data;
                }
            }
        });
        return returnval;
    }
    

    function Validate() {
        if ($('#UserName').val() == "") { $('#spanUserName').html('Required.'); $('#UserName').focus().addClass(""); return false; } else { $('#spanUserName').html(''); $('#UserName').focus().removeClass(""); }
        if ($('#SpouseCell').val() == "") { $('#spanSpouseCell').html('Required.'); $('#SpouseCell').focus().addClass("red-border"); return false; } else { $('#spanSpouseCell').html(''); $('#SpouseCell').focus().removeClass("red-border"); }
        if ($('#Email').val() == "") { $('#spanEmail').html('Required.'); $('#Email').focus().addClass("red-border"); return false; } else { $('#spanEmail').html(''); $('#Email').focus().removeClass("red-border"); }
        if (!Common.CheckEmail($('#Email').val())) { $('#spanEmail').html('Please enter valid email address.'); $('#Email').focus().addClass("red-border"); return false; } else { $('#spanEmail').html(''); $('#Email').focus().removeClass("red-border"); }
        if (!CheckProfileEmailAvailability($.trim($('#Email').val()), $('#MemberId').val())) { $('#spanEmail').html('Email address is not available.'); $('#Email').focus().addClass("red-border"); return false; } else { $('#spanEmail').html(''); $('#Email').focus().removeClass("red-border"); }
        if ($('#FirstName').val() == "") { $('#spanFirstName').html('Required.'); $('#FirstName').focus().addClass("red-border"); return false; } else { $('#spanFirstName').html(''); $('#FirstName').focus().removeClass("red-border"); }
        if ($('#LastName').val() == "") { $('#spanLastName').html('Required.'); $('#LastName').focus().addClass("red-border"); return false; } else { $('#spanLastName').html(''); $('#LastName').focus().removeClass("red-border"); }

        if ($('#IsVolunteer').val() == "") { $('#spanIsVolunteer').html('Required.'); $('#IsVolunteer').focus(); return false; } else { $('#spanIsVolunteer').html(''); }


        if ($('#MembershipTypeId').val() == "") { $('#spanMembershipTypeId').html('Required.'); $('#MembershipTypeId').focus(); return false; } else { $('#spanMembershipTypeId').html(''); }

        if ($('#PaymentMethodId').val() == "PayPal") {
            if ($('#TransactionId').val() == "") { $('#spanTransactionId').html('Required.'); $('#TransactionId').focus().addClass("red-border"); return false; } else { $('#spanTransactionId').html(''); }
        }
        if ($('#PaymentMethodId').val() == "Cash/Cheque") {
            if ($('#PaymentBy').val() == "") { $('#spanPaymentBy').html('Required.'); $('#PaymentBy').focus(); return false; } else { $('#spanPaymentBy').html(''); $('#PaymentBy').focus().removeClass("red-border"); }
            if ($('#ChequeNo').val() == "") { $('#spanChequeNo').html('Required.'); $('#ChequeNo').focus(); return false; } else { $('#spanChequeNo').html(''); $('#ChequeNo').focus().removeClass("red-border"); }
            if ($('#BankName').val() == "") { $('#spanBankName').html('Required.'); $('#BankName').focus(); return false; } else { $('#spanBankName').html(''); $('#BankName').focus().removeClass("red-border"); }
            if ($('#ChequeDate').val() == "") { $('#spanChequeDate').html('Required.'); $('#ChequeDate').focus(); return false; } else { $('#spanChequeDate').html(''); $('#ChequeDate').focus().removeClass("red-border"); }
        }



        //var rowcount = $('#hdnRowCount').val();
        //for (var i = 0; i < rowcount; i++) {
        //    if ($("#FirstName-" + i).val() != "" || $("#LastName-" + i).val() != "" || $("#Age-" + i).val() != "" || $("#Relationship-" + i).val() != "") {
        //        if ($("#FirstName-" + i).val() == '') { alert('Please enter FirstName.'); $("#FirstName-" + i).focus(); return false; }
        //        if ($("#LastName-" + i).val() == '') { alert('Please enter LastName'); $("#LastName-" + i).focus(); return false; }
        //        if ($("#Age-" + i).val() == '') { alert('Please enter Age.'); $("#Age-" + i).focus(); return false; }
        //        if ($("#Relationship-" + i).val() == '') { alert('Please enter Relationship.'); $("#Relationship-" + i).focus(); return false; }
        //    }
        //}
        return true;
    }
</script>
<script type="text/javascript">
    $(function () {
        $(".ui-accordion").accordion({
            collapsible: true,
            heightStyle: "content"
        });

        // date picker
        $(function () {
            $(function () {
                $(".datepicker").datepicker({
                    altField: "#alternate",
                    altFormat: "DD, d MM, yy"
                });
            });
        });
    });
    $(document).ready(function () {
        $('#MMembers').addClass('active');
        getamount();
        $(".Odate").datepicker({ changeMonth: true, changeYear: true, yearRange: "-90:+0", altField: '.Odate', altFormat: 'dd/mm/yy' });
        $(".Edate").datepicker({ changeMonth: true, changeYear: true, yearRange: "-90:+0", altField: '.Edate', altFormat: 'dd/mm/yy' });
        $(".Cdate").datepicker({ changeMonth: true, changeYear: true, yearRange: "-90:+0", altField: '.Cdate', altFormat: 'dd/mm/yy' });
    });
    function getamount() {
        var membershipid = $('#MembershipTypeId').val();
        $.ajax({
            url: '@Url.Action("EditMembershipTypes", "MembershipTypes")',
            type: 'POST',
            data: { MembershipTypeId: membershipid },
            datatype: "JSON",
            success: function (result) {
                if (result.ok) {
                    var objMembershipType = result.data;
                    $('#payamount').html(objMembershipType.Price);
                    $('#Amount').val(objMembershipType.Price);
                    if (objMembershipType.Validity != 0) {
                        var d = new Date();
                        //d.setMonth((d.getMonth()) + objMembershipType.Validity);
                        $('#ExpiryDate').val('12/31/' + d.getFullYear());
                    } else { $('#ExpiryDate').val('Life Time'); }
                }
                else {
                    alert(result.data);
                }
            }
        });
    }
</script>
<input type="hidden" value="1" id="hdnRowCount" />
<!-- breadcumb -->
<div class="clearfix breadcrumb-main">
    <ul class="breadcrumb  ">
        <li><a href="@Url.Action("Index", "Members")">Members</a> <span class="divider">/</span></li>
        <li class="active">Edit Member</li>
        <li class="fR sepV_c"><i class="icon-globe"></i><a href="@System.Configuration.ConfigurationManager.AppSettings["usersiteurl"]" target="_blank">View Mainsite</a></li>
    </ul>
</div>
<!-- end breadcumb -->

<div id="maincontainer">
    <div class="mainContent">
        <!--- TOPEBAR [start] ---->
        @Html.Partial("MainMenu", "SuperAdmin")
        <!--- TOPEBAR [end] ---->
        <!--- SIDEBAR [start] ---->
        @Html.Partial("LeftMenu")
        <!--- SIDEBAR [en] ---->

        <div class="pageHeadingBlock ">
            <div class="grayBackground">
                <div class="fR t-r p_b"><a class="clearfix" href="@Url.Action("Index", "Members")">← back to members list</a> </div>
                <h3 class="title">Edit Member</h3>
                <div class="sectionTabNav">
                    <div class="btn-group">
                        <div class="btn-group">
                            <a class="btn active" href="@Url.Action("Index", "Members")">Members</a>
                            <a class="btn" href="@Url.Action("Index", "MembersOrders")">Orders</a>
                            <a class="btn" href="@Url.Action("Index", "MembershipTypes")">Member Type</a>
                            @*<a class="btn" href="@Url.Action("Index", "Volunteers")">Volunteers</a>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="clearfix sepH_b"></div>
        <div id="divmessage">
            @if (TempData["message"] != null)
            {@Html.Raw(TempData["message"].ToString())}

            @if (ViewBag.message != null)
            {@Html.Raw(ViewBag.message.ToString())}
        </div>
        @using (Html.BeginForm("UpdateMember", "Members", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <input type="hidden" id="MembershipOrderId" name="MembershipOrderId" value="@objMemberDetails.objMembershipOrder.MembershipOrderId" />
            <input type="hidden" id="MemberId" name="MemberId" value="@objMemberDetails.MemberId" />
            <input type="hidden" id="OrderDate" name="OrderDate" value="@objMemberDetails.OrderDate" />
            <input type="hidden" id="Amount" name="Amount" value="" />
            <div class="custom-adn grayBackground nobL nobR">
                <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Personal Details</b></h3>
                    <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">
                        <div class="filedsetInner clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Title :<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <select class="input-block-level" name="UserName" id="UserName">
                                                    <option value="">Select Title</option>
                                                    <option @(objMemberDetails.UserName == "Mr." ? "selected='selected'" : "") value="Mr.">Mr.</option>
                                                    <option @(objMemberDetails.UserName == "Mrs." ? "selected='selected'" : "") value="Mrs.">Mrs.</option>
                                                    <option @(objMemberDetails.UserName == "Ms." ? "selected='selected'" : "") value="Ms.">Ms.</option>
                                                </select>
                                                <span class="red-t" id="spanUserName"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">First Name :<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="FirstName" name="FirstName" value="@objMemberDetails.FirstName" class="input-block-level" />
                                                <span class="field-validation-error" id="spanFirstName"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Email :<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="Email" name="Email" value="@objMemberDetails.Email" class="input-block-level" />
                                                <span class="field-validation-error" id="spanEmail"></span>
                                            </div>
                                        </div>

                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Profession :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="Occupation" name="Occupation" value="@objMemberDetails.Occupation" class="input-block-level" />

                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid t-p10">
                                            <div class="span5">
                                                <label class="t-p5">Member Id :<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseCell" name="SpouseCell" value="@objMemberDetails.SpouseCell" class="input-block-level" />
                                                <span class="field-validation-error" id="spanSpouseCell"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Last Name :<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="LastName" name="LastName" value="@objMemberDetails.LastName" class="input-block-level" />
                                                <span class="field-validation-error" id="spanLastName"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid b-p10">
                                            <div class="span5">
                                                <label class="t-p5">Member above 18 years :</label>
                                            </div>
                                            <div class="span6">
                                                <select class="input-block-level" id="MemberAge" name="MemberAge">
                                                    <option value="">Select</option>
                                                    <option @(objMemberDetails.MemberAge == "Yes" ? "selected='selected'" : "") value="Yes">Yes</option>
                                                    <option @(objMemberDetails.MemberAge == "No" ? "selected='selected'" : "") value="No">No</option>
                                                </select>
                                            </div>
                                        </div>

                                        @*<div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Skils/Interest :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="MemberSkils" name="MemberSkils" value="@objMemberDetails.MemberSkils" class="input-block-level" />

                                            </div>
                                        </div>*@

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="custom-adn grayBackground nobL nobR">
                <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Spouse Details</b></h3>
                    <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">
                        <div class="filedsetInner clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Spouse Name :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseFirstName" name="SpouseFirstName" value="@objMemberDetails.SpouseFirstName" class="input-block-level" />
                                                <span class="field-validation-error" id="spanSpouseFirstName"></span>
                                            </div>
                                        </div>
                                        @* <div class="row-fluid t-p10">
                                            <div class="span5">
                                                <label class="t-p5">Cell :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseCell" name="SpouseCell" value="@objMemberDetails.SpouseCell" class="input-block-level" />
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Skils/Interest :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseSkils" name="SpouseSkils" value="@objMemberDetails.SpouseSkils" class="input-block-level" />

                                            </div>
                                        </div>*@
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix">
                                        @*<div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5 font12">Last Name :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseLastName" name="SpouseLastName" value="@objMemberDetails.SpouseLastName" class="input-block-level" />
                                                <span class="field-validation-error" id="spanSpouseLastName"></span>
                                            </div>
                                        </div>*@
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5 font12">Profession :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="SpouseOccupation" name="SpouseOccupation" value="@objMemberDetails.SpouseOccupation" class="input-block-level" />
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="custom-adn grayBackground nobL nobR">
                <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Children Details</b></h3>
                    <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">

                        <div class="filedsetInner clearfix">
                            <table cellspacing="0" cellpadding="0" border="0" class="tbl membership" width="100%">
                                <tbody>
                                    <tr>
                                        <td>
                                            <table id="childinfo" name="childinfo" width="650" cellspacing="0" cellpadding="0" border="0" class="table table-hover span9 omb table_vam table-black tvm">
                                                <thead>
                                                    <tr>
                                                        <th width="360">Name</th>
                                                        @*<th width="180">Date of Birth</th>*@
                                                        <th width="100" align="center">Age</th>
                                                        @* <th width="270" align="center">Skills/Interests</th>*@
                                                        <th width="90" align="center">
                                                            <input type="button" onclick="javascript: addRow();" name="add-child" class="btn" value="Add child">
                                                        </th>
                                                    </tr>
                                                    @if (objMemberDetails.lstChildrenInfo != null && objMemberDetails.lstChildrenInfo.Count != 0)
                                                    {
                                                        Int64 i = 0;
                                                        foreach (var Item in objMemberDetails.lstChildrenInfo)
                                                        {
                                                            <input id="ChildrenInfoId-@(i)" name="[@(i)].ChildrenInfoId" value="@(Item.ChildrenInfoId)" type="hidden" />
                                                            <tr>
                                                                <td width="290">
                                                                    <input type="text" value="@Item.FirstName" id="FirstName-@i" name="[@i].FirstName" class="input-block-level b-m0">
                                                                </td>
                                                                @*<td width="110" align="center">
                                                                <input type="text" value="@Item.LastName" id="LastName-@i" name="[@i].LastName" class="input-block-level b-m0"></td>*@
                                                                <td width="360" align="center">
                                                                    <input type="text" value="@Item.Age" id="Age-@i" name="[@i].Age" maxlength="2" onkeypress="return Common.isNumberKey(event);" class="span1 sepH_am ">
                                                                    @*  <select class="input-block-level b-m0" id="Age-@i" name="[@i].Age" >
                                                                        <option value="">Select</option>
                                                                        <option  @(Item.Age == 1 ? "selected='selected'" : "") value="1">Male</option>
                                                                        <option @(Item.Age == 0 ? "selected='selected'" : "") value="0">Female</option>
                                                                    </select>*@
                                                                </td>
                                                                @* <td width="180" align="center">
                                                                <input type="text" value="@Item.Relationship" id="Relationship-@i" name="[@i].Relationship" class="input-block-level b-m0"></td>*@
                                                                <td width="180" align="center"><a class="pagedelete t-p10" href="@Url.Action("DeleteChildInfo", "Members", new { ChildInfoId = @Item.ChildrenInfoId, MemberId = Item.MemberId })" onclick="return confirm('Do you want to delete this item.')" title="Delete"><i class="icon-trash"></i></a></td>

                                                            </tr>
                                                            i++;
                                                        }
                                                    }

                                                </thead>
                                            </table>

                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="custom-adn grayBackground nobL nobR">
                <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Contact Details</b></h3>
                    <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">

                        <div class="filedsetInner clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Address1:</label>
                                            </div>
                                            <div class="span6">
                                                <textarea type="text" id="Address" name="Address" class="input-block-level">@objMemberDetails.Address</textarea>
                                                @* <input type="text" id="Address" name="Address" value="@objMemberDetails.Address" class="input-block-level" />*@
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">State:</label>
                                            </div>
                                            <div class="span6">
                                                <div class="clearfix dropdown">
                                                    <select class="dropdown-select ui-select" id="State" name="State">
                                                        <option value="">Select State</option>
                                                        <option @(objMemberDetails.State == "Alabama" ? "selected=selected" : "") value="Alabama">Alabama</option>
                                                        <option @(objMemberDetails.State == "Alaska" ? "selected=selected" : "") value="Alaska">Alaska</option>
                                                        <option @(objMemberDetails.State == "Arizona" ? "selected=selected" : "") value="Arizona">Arizona</option>
                                                        <option @(objMemberDetails.State == "Arkansas" ? "selected=selected" : "") value="Arkansas">Arkansas</option>
                                                        <option @(objMemberDetails.State == "California" ? "selected=selected" : "") value="California">California</option>
                                                        <option @(objMemberDetails.State == "Colorado" ? "selected=selected" : "") value="Colorado">Colorado</option>
                                                        <option @(objMemberDetails.State == "Connecticut" ? "selected=selected" : "") value="Connecticut">Connecticut</option>
                                                        <option @(objMemberDetails.State == "Delaware" ? "selected=selected" : "") value="Delaware">Delaware</option>
                                                        <option @(objMemberDetails.State == "Florida" ? "selected=selected" : "") value="Florida">Florida</option>
                                                        <option @(objMemberDetails.State == "Georgia" ? "selected=selected" : "") value="Georgia">Georgia</option>
                                                        <option @(objMemberDetails.State == "Hawaii" ? "selected=selected" : "") value="Hawaii">Hawaii</option>
                                                        <option @(objMemberDetails.State == "Idaho" ? "selected=selected" : "") value="Idaho">Idaho</option>
                                                        <option @(objMemberDetails.State == "Illinois" ? "selected=selected" : "") value="Illinois">Illinois</option>
                                                        <option @(objMemberDetails.State == "Indiana" ? "selected=selected" : "") value="Indiana">Indiana</option>
                                                        <option @(objMemberDetails.State == "Iowa" ? "selected=selected" : "") value="Iowa">Iowa</option>
                                                        <option @(objMemberDetails.State == "Kansas" ? "selected=selected" : "") value="Kansas">Kansas</option>
                                                        <option @(objMemberDetails.State == "Kentucky" ? "selected=selected" : "") value="Kentucky">Kentucky</option>
                                                        <option @(objMemberDetails.State == "Louisiana" ? "selected=selected" : "") value="Louisiana">Louisiana</option>
                                                        <option @(objMemberDetails.State == "Maine" ? "selected=selected" : "") value="Maine">Maine</option>
                                                        <option @(objMemberDetails.State == "Maryland" ? "selected=selected" : "") value="Maryland">Maryland</option>
                                                        <option @(objMemberDetails.State == "Massachusetts" ? "selected=selected" : "") value="Massachusetts">Massachusetts</option>
                                                        <option @(objMemberDetails.State == "Michigan" ? "selected=selected" : "") value="Michigan">Michigan</option>
                                                        <option @(objMemberDetails.State == "Minnesota" ? "selected=selected" : "") value="Minnesota">Minnesota</option>
                                                        <option @(objMemberDetails.State == "Mississippi" ? "selected=selected" : "") value="Mississippi">Mississippi</option>
                                                        <option @(objMemberDetails.State == "Missouri" ? "selected=selected" : "") value="Missouri">Missouri</option>
                                                        <option @(objMemberDetails.State == "Montana" ? "selected=selected" : "") value="Montana">Montana</option>
                                                        <option @(objMemberDetails.State == "Nebraska" ? "selected=selected" : "") value="Nebraska">Nebraska</option>
                                                        <option @(objMemberDetails.State == "Nevada" ? "selected=selected" : "") value="Nevada">Nevada</option>
                                                        <option @(objMemberDetails.State == "New Hampshire" ? "selected=selected" : "") value="New Hampshire">New Hampshire</option>
                                                        <option @(objMemberDetails.State == "New Jersey" ? "selected=selected" : "") value="New Jersey">New Jersey</option>
                                                        <option @(objMemberDetails.State == "New Mexico" ? "selected=selected" : "") value="New Mexico">New Mexico</option>
                                                        <option @(objMemberDetails.State == "New York" ? "selected=selected" : "") value="New York">New York</option>
                                                        <option @(objMemberDetails.State == "North Carolina" ? "selected=selected" : "") value="Maryland">North Carolina</option>
                                                        <option @(objMemberDetails.State == "North Dakota" ? "selected=selected" : "") value="North Dakota">North Dakota</option>
                                                        <option @(objMemberDetails.State == "Ohio" ? "selected=selected" : "") value="Ohio">Ohio</option>
                                                        <option @(objMemberDetails.State == "Oklahoma" ? "selected=selected" : "") value="Oklahoma">Oklahoma</option>
                                                        <option @(objMemberDetails.State == "Oregon" ? "selected=selected" : "") value="Oregon">Oregon</option>
                                                        <option @(objMemberDetails.State == "Pennsylvania" ? "selected=selected" : "") value="Pennsylvania">Pennsylvania</option>
                                                        <option @(objMemberDetails.State == "Rhode Island" ? "selected=selected" : "") value="Rhode Island">Rhode Island</option>
                                                        <option @(objMemberDetails.State == "South Carolina" ? "selected=selected" : "") value="South Carolina">South Carolina</option>
                                                        <option @(objMemberDetails.State == "South Dakota" ? "selected=selected" : "") value="South Dakota">South Dakota</option>
                                                        <option @(objMemberDetails.State == "Tennessee" ? "selected=selected" : "") value="Tennessee">Tennessee</option>
                                                        <option @(objMemberDetails.State == "North Carolina" ? "selected=selected" : "") value="Texas">Texas</option>
                                                        <option @(objMemberDetails.State == "Texas" ? "selected=selected" : "") value="North Dakota">North Dakota</option>
                                                        <option @(objMemberDetails.State == "Utah" ? "selected=selected" : "") value="Utah">Utah</option>
                                                        <option @(objMemberDetails.State == "Vermont" ? "selected=selected" : "") value="Vermont">Vermont</option>
                                                        <option @(objMemberDetails.State == "Virginia" ? "selected=selected" : "") value="Virginia">Virginia</option>
                                                        <option @(objMemberDetails.State == "Washington" ? "selected=selected" : "") value="Washington">Washington</option>
                                                        <option @(objMemberDetails.State == "West Virginia" ? "selected=selected" : "") value="West Virginia">West Virginia/option>
                                                        <option @(objMemberDetails.State == "Wisconsin" ? "selected=selected" : "") value="Wisconsin">Wisconsin</option>
                                                        <option @(objMemberDetails.State == "Wyoming" ? "selected=selected" : "") value="Wyoming">Wyoming</option>
                                                        <option @(objMemberDetails.State == "Other" ? "selected=selected" : "") value="Other">Other</option>
                                                    </select>

                                                </div>
                                                <span class="field-validation-error" id="spanState"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Home Phone:</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="HomePhone" name="HomePhone" value="@objMemberDetails.HomePhone" class="input-block-level" />
                                                <span class="field-validation-error" id="spanHomePhone"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Referred By: </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="ReferredBy" value="@objMemberDetails.ReferredBy" name="ReferredBy" class="input-block-level" />
                                                <span class="field-validation-error" id="spanReferredBy"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Fax </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="" name="Fax" value="@objMemberDetails.Fax" class="input-block-level" />
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid t-p10">
                                            <div class="span5">
                                                <label class="t-p5">Comments:</label>
                                            </div>
                                            <div class="span6">
                                                <textarea type="text" id="Comments" name="Comments" class="input-block-level">@objMemberDetails.Comments</textarea>
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Address2:</label>
                                            </div>
                                            <div class="span6">
                                                @*<textarea type="text" id="" name="" class="input-block-level"></textarea>*@
                                                <textarea type="text" id="" name="Address2" class="input-block-level">@objMemberDetails.Address2</textarea>
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">City: </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="City" name="City" value="@objMemberDetails.City" class="input-block-level" />
                                                <span class="field-validation-error" id="spanCity"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Zip Code:</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="ZipCode" name="ZipCode" value="@objMemberDetails.ZipCode" class="input-block-level" />
                                                <span class="field-validation-error" id="spanZipCode"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Mobile Phone </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="MobilePhone" name="MobilePhone" value="@objMemberDetails.MobilePhone" class="input-block-level" />
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">WebSite Address </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="" name="WebsiteAddress" value="@objMemberDetails.WebsiteAddress" class="input-block-level" />
                                                <span class="field-validation-error"></span>
                                            </div>
                                        </div>
                                        @*<div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Is Volunteer:<span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <select id="IsVolunteer" disabled="disabled" name="IsVolunteer" class="input-block-level">
                                                    <option value="">Select Volunteer</option>
                                                    <option @(objMemberDetails.IsVolunteer == false ? "selected=selected" : "") value="0">No</option>
                                                    <option  @(objMemberDetails.IsVolunteer == true ? "selected=selected" : "") value="1">Yes</option>
                                                </select>
                                                <span class="field-validation-error" id="spanIsVolunteer"></span>
                                            </div>
                                        </div>*@

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="custom-adn grayBackground nobL nobR">
                <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Latest Order Details</b></h3>
                    <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">

                        <div class="filedsetInner clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Membership  Type : <span class="red-t">*</span></label>
                                            </div>
                                            <div class="span6">
                                                <select onchange="getamount();" class="input-block-level" name="MembershipTypeId" id="MembershipTypeId">
                                                    @if (lstMembershipType != null)
                                                    {
                                                        foreach (var item in lstMembershipType)
                                                        {
                                                            <option @(item.MembershipTypeId == objMemberDetails.MembershipTypeId ? "selected=selected" : "") value="@item.MembershipTypeId">@item.MembershipType</option>
                                                        }
                                                    }
                                                </select>
                                                <span class="field-validation-error" id="spanMembershipTypeId"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Transaction Id  :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" id="TransactionId" value="@objMemberDetails.objMembershipOrder.TransactionId" class="input-block-level" name="TransactionId">
                                                <span class="field-validation-error" id="spanTransactionId"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Payment Method :</label>
                                            </div>
                                            <div class="span6">
                                                <select class="input-block-level" name="PaymentMethodId" id="PaymentMethodId">
                                                    @if (lstPaymentMethod != null)
                                                    {
                                                        <option value="">Select</option>
                                                        foreach (var item in lstPaymentMethod)
                                                        {
                                                            <option @(item.PaymentMethodId == objMemberDetails.objMembershipOrder.PaymentMethodId ? "selected=selected" : "") value="@item.PaymentMethodId">@item.PaymentMethod</option>
                                                        }
                                                    }
                                                </select>
                                                <span class="field-validation-error" id="spanPaymentMethodId"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">
                                                    Payment By<br />
                                                    (Already Paid) :
                                                </label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" class="input-block-level" id="PaymentBy" name="PaymentBy" value="@objMemberDetails.objMembershipOrder.PaymentBy">
                                                <span class="field-validation-error" id="spanPaymentBy"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Bank Name :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" class="input-block-level" id="BankName" value="@objMemberDetails.objMembershipOrder.BankName" name="BankName">
                                                <span class="field-validation-error" id="spanBankName"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Expiry Date :</label>
                                            </div>
                                            <div class="span6">
                                                <input type="text" class="input-block-level" readonly="readonly" value="@(objMemberDetails.objMembershipOrder.ExpiryDate == DateTime.MinValue ? "" : objMemberDetails.objMembershipOrder.ExpiryDate.ToString("MM/dd/yyyy"))" id="ExpiryDate" name="ExpiryDate">
                                                <span class="field-validation-error" id="spanExpiryDate"></span>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Admin Comment :</label>
                                            </div>
                                            <div class="span6">
                                                <textarea type="text" value="" class="input-block-level" id="AdminComment" name="AdminComment">@objMemberDetails.objMembershipOrder.AdminComment</textarea>
                                                <span class="field-validation-error" id="spanAdminComment"></span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label class="t-p5">Amount :</label>
                                        </div>
                                        <div class="span6 b-m15">
                                            $ <span id="payamount"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label class="t-p5">Payment Status :</label>
                                        </div>
                                        <div class="span6">
                                            <select class="input-block-level" name="PaymentStatusId" id="PaymentStatusId">
                                                @if (lstPaymentStatus != null)
                                                {
                                                    <option value="">Select</option>
                                                    foreach (var item in lstPaymentStatus)
                                                    {
                                                        <option @(item.PaymentStatusId == objMemberDetails.objMembershipOrder.PaymentStatusId ? "selected=selected" : "") value="@item.PaymentStatusId">@item.PaymentStatus1</option>
                                                    }
                                                }
                                            </select>
                                            <span class="field-validation-error" id="spanPaymentStatusId"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label class="t-p5">Cheque No :</label>
                                        </div>
                                        <div class="span6">
                                            <input type="text" class="input-block-level" value="@objMemberDetails.objMembershipOrder.ChequeNo" id="ChequeNo" name="ChequeNo">
                                            <span class="field-validation-error" id="spanChequeNo"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label class="t-p5">Cheque Date :</label>
                                        </div>
                                        <div class="span6">
                                            <input type="text" class="input-block-level Cdate" value="@(objMemberDetails.objMembershipOrder.ChequeDate == DateTime.MinValue ? "" : objMemberDetails.objMembershipOrder.ChequeDate.ToString("MM/dd/yyyy"))" id="ChequeDate" name="ChequeDate">
                                            <span class="field-validation-error" id="spanChequeDate"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label class="t-p5">User Comment :</label>
                                        </div>
                                        <div class="span6">
                                            <textarea class="input-block-level" id="UserComment" name="UserComment">@objMemberDetails.objMembershipOrder.UserComment</textarea>
                                            <span class="field-validation-error"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end other details form -->
            <div class="form-actions">
                <div class="actionButtons">
                    <input type="submit" value="Update" onclick="return Validate()" name="send" class="button2 btn btn-primary">
                    <a class="btn btn-inverse" href="@Url.Action("Index", "Members")">Cancel</a>
                </div>
            </div>
        }
        <div class="adminfooter"></div>
    </div>
</div>
