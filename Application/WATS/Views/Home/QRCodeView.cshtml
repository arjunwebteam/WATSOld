
@using System.Configuration
@{
    ViewBag.Title = "ViewEventUser";
    Layout = null;
    var objEventUserInfo = (WATS.Entities.EventUserInfo)ViewBag.objEventUserInfo;
    var lstEventRegCounts = (List<WATS.Entities.EventRegistrationCounts>)ViewBag.lstEventRegCounts;



    var imglocNormal = System.Configuration.ConfigurationManager.AppSettings["usersiteurl"] + "Content/CulturalEvent/";
}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    @{var baseurl = ConfigurationManager.AppSettings["baseurl"];}
    <base href="@(baseurl)" />

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>WATS - Admin Panel</title>
    <link rel="shortcut icon" href="Content/images/favicon.ico" />
    <!-- WATS admin Css -->
    <link href="Content/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" type="text/css" href="Content/jquery-ui.css" />
    <link href="Content/admin-style.css" rel="stylesheet" media="screen">
    <link href="Content/admin-comman-styles.css" rel="stylesheet" media="screen">
    <!-- WATS admin Css -->

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,300,600,700' rel='stylesheet' type='text/css'>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

    <!-- WATS admin JS -->
    <script src="Scripts/jquery-1.8.3.js" type="text/javascript"></script>
    <script src="Scripts/jquery-ui-1.9.2.custom.min.js" type="text/javascript"></script>
    <script src="Scripts/jquery.ui.widget.js"></script>
    <script src="Scripts/jquery.ui.accordion.js"></script>
    <script src="Scripts/delete_item.js" type="text/javascript"></script>
    <script type="text/javascript" src="Scripts/jquery-ui-timepicker-addon.js"></script>
    <script type="text/javascript" src="Scripts/jquery-ui-sliderAccess.js"></script>

    <script src="Scripts/Common.js" type="text/javascript"></script>
    <!-- WATS admin JS -->

    <script type="text/javascript">

        function DropDown(el) {
            this.dd = el;
            this.initEvents();
        }
        DropDown.prototype = {
            initEvents: function () {
                var obj = this;

                obj.dd.on('click', function (event) {
                    $(this).toggleClass('active');
                    event.stopPropagation();
                });
            }
        }

        $(function () {

            var dd = new DropDown($('#dd'));

            $(document).click(function () {
                // all dropdowns
                $('.wrapper-dropdown-3').removeClass('active');
            });

        });

    </script>
    <script type="text/javascript">
        $(function () {
            $(".ui-accordion").accordion({
                collapsible: true,
                heightStyle: "content"
            });

            // date picker
            $(function () {
                $(function () {
                    $(".datepicker").datepicker({
                        altField: "#alternate",
                        altFormat: "DD, d MM, yy"
                    });
                });
            });
        });
        $(document).ready(function () {
            $('.closable').append('<span class="closelink" title="Close"></span>');
            $('.closelink').click(function () {
                $(this).parent().fadeOut('600', function () { $(this).remove(); });
            });
            Common.mfadeout();

        });
    </script>
    <script type="text/javascript" src="Scripts/IE9.js"></script>

    <script type="text/javascript" src="Content/bootstrap/js/bootstrap.js"></script>
    <link rel="stylesheet" type="text/css" href="Content/lib/lightview/css/lightview/lightview.css" />
    <script type="text/javascript" src="Content/lib/lightview/js/spinners/spinners.js"></script>
    <script type="text/javascript" src="Content/lib/lightview/js/lightview/lightview.js"></script>

</head>
<body>
    <div class="clearfix" style="min-height: 86px;"></div>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container-fluid">
                <a class="brand">
                    <img width="200" title="WATS" src="Content/images/logo.png" alt="WATS" />
                </a>

                
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(function () {
            $(".ui-accordion").accordion({
                collapsible: true,
                heightStyle: "content"
            });

            // date picker
            $(function () {
                $(function () {
                    $(".datepicker").datepicker({
                        altField: "#alternate",
                        altFormat: "DD, d MM, yy"
                    });
                });
            });
        });
        $(document).ready(function () {
            $('#MEvents').addClass('active');

        });
    </script>
    <div id="maincontainer1">
        <div class="mainContent">

            <div class="pageHeadingBlock ">
                <div class="grayBackground">


                    <h3 class="title">View User Details</h3>

                </div>
            </div>
            <div class="clearfix sepH_b"></div>
            <div id="divmessage">
                @if (TempData["message"] != null)
                {@Html.Raw(TempData["message"].ToString())}

                @if (ViewBag.message != null)
                {@Html.Raw(ViewBag.message.ToString())}
            </div>
            @if (objEventUserInfo.ItemName != null && objEventUserInfo.ItemName != "")
            {
                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion">
                        <h3 class="bor0 black-t"><b>Item Details</b></h3>
                        <div class="clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Program Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.ItemName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Audio/Video Url :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.DocumentUrl</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Program Duration :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.ItemDuration (min)</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Program Category :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">
                                                    @objEventUserInfo.ItemCategory
                                                    @if (objEventUserInfo.DocumentUrl != null)
                                                    {
                                                        <span><a download="@objEventUserInfo.DocumentUrl" title="Download Group Image" href="@(imglocNormal + objEventUserInfo.DocumentUrl)">  (<i class="icon-download-alt"></i> Download Image)</a></span> <br />
                                                    }
                                                    @if (objEventUserInfo.Address != null)
                                                    {
                                                        <span><a download="@objEventUserInfo.Address" title="Download Audio/Video" href="@(imglocNormal + objEventUserInfo.Address)">  (<i class="icon-download-alt"></i> Download Audio/Video)</a></span>
                                                    }
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row-fluid">
                                <div class="span12">
                                    <div class="clearfix">
                                        <div class="row-fluid">
                                            <div class="span2">
                                                <label class="t-p5">Program Description :</label>
                                            </div>
                                            <div class="span10">
                                                @objEventUserInfo.ItemDescription
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion">
                        <h3 class="bor0 black-t"><b>Choreographer's Details</b></h3>
                        <div class="clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>First Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.FirstName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Last Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.LastName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Email :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.Email</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Name of the Dance/Music School :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t"> @(objEventUserInfo.UpdatedBy != objEventUserInfo.FirstName ? objEventUserInfo.UpdatedBy : "") </label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label class="t-p5">Group Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">
                                                    @objEventUserInfo.State
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>State :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@(objEventUserInfo.State != "Washington" ? objEventUserInfo.State : "" )</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>City :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.City</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Mobile :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.Mobile</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Number of Participants :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.Gender</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion">
                        <h3 class="bor0 black-t"><b>Coordinator Details</b></h3>
                        <div class="clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>First Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.CoorFirstName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Last Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.CoorLastName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Email :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.CoorEmail</label>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix">

                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>City :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.CoorCity</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Mobile :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.CoorMobileNo</label>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion">
                        <h3 class="bor0 black-t"><b>Personal Details</b></h3>
                        <div class="clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>First Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.FirstName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Last Name :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.LastName</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Email :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.Email</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="clearfix">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>State :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.State</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>City :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.City</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Mobile :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@objEventUserInfo.Mobile</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <hr class="mN" />
                if (lstEventRegCounts != null && lstEventRegCounts.Count != 0)
                {
                    <div class="custom-adn grayBackground nobL nobR">
                        <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                            <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Registrations</b></h3>
                            <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">
                                <div class="filedsetInner clearfix">
                                    <table cellspacing="0" cellpadding="0" border="0" class="tbl membership" width="100%">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <table id="childinfo" name="childinfo" width="650" cellspacing="0" cellpadding="0" border="0" class="table table-hover span9 omb table_vam table-black tvm">
                                                        <thead>
                                                            <tr>
                                                                <th width="180">Registration Type</th>
                                                                <th width="180">Count</th>
                                                                <th width="100" align="center">Amount</th>

                                                            </tr>
                                                            @if (lstEventRegCounts != null && lstEventRegCounts.Count != 0)
                                                            {
                                                                Int64 i = 0;
                                                                foreach (var Item in lstEventRegCounts)
                                                                {
                                                                    <input id="EventRegCountId-@(i)" name="[@(i)].EventRegCountId" value="@(Item.EventRegCountId)" type="hidden" />
                                                                    <tr>
                                                                        <td width="180">
                                                                            <label class="t-p5 black-t">@Item.RegistrationTitle</label>
                                                                        </td>
                                                                        <td width="110" align="center">
                                                                            <label class="t-p5 black-t">@Item.Count</label>
                                                                        </td>
                                                                        <td width="180" align="center">
                                                                            <label class="t-p5 black-t">@Item.Amount</label>
                                                                        </td>
                                                                    </tr>
                                                                    i++;
                                                                }
                                                            }

                                                        </thead>
                                                    </table>

                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- end personal info form -->
                    </div>
                    <hr class="mN" />
                }
            }

            @if (objEventUserInfo.lstEventParticipant.Count() != 0 && objEventUserInfo.lstEventParticipant != null)
            {
                <!-- end personal info form -->
                <hr class="mN" />
                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                        <h3 class="ui-accordion-header ui-helper-reset ui-state-default ui-accordion-header-active ui-state-active ui-corner-top ui-accordion-icons" role="tab" id="ui-accordion-2-header-0" aria-controls="ui-accordion-2-panel-0" aria-selected="true" tabindex="0"><span class="ui-accordion-header-icon ui-icon ui-icon-triangle-1-s"></span><b>Particpatnts</b></h3>
                        <div class="form-horizontal ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content-active" style="display: block;" id="ui-accordion-2-panel-0" aria-labelledby="ui-accordion-2-header-0" role="tabpanel" aria-expanded="true" aria-hidden="false">
                            <div class="filedsetInner clearfix">
                                <table cellspacing="0" cellpadding="0" border="0" class="tbl membership" width="100%">
                                    <tbody>
                                        <tr>
                                            <td>
                                                <table id="childinfo" name="childinfo" width="650" cellspacing="0" cellpadding="0" border="0" class="table table-hover span9 omb table_vam table-black tvm">
                                                    <thead>
                                                        <tr>
                                                            <th width="180">First Name</th>
                                                            <th width="180">Last Name</th>
                                                            <th width="100" align="center">( Age )</th>
                                                            <th width="180" align="center">Member Id</th>

                                                        </tr>
                                                        @if (objEventUserInfo.lstEventParticipant != null && objEventUserInfo.lstEventParticipant.Count != 0)
                                                        {
                                                            Int64 i = 0;
                                                            foreach (var Item in objEventUserInfo.lstEventParticipant)
                                                            {
                                                                <tr>
                                                                    <td width="180">
                                                                        <label class="t-p5 black-t">@Item.FirstName</label>
                                                                    </td>
                                                                    <td width="110" align="center">
                                                                        <label class="t-p5 black-t">@Item.LastName</label>
                                                                    </td>
                                                                    <td width="180" align="center">
                                                                        <label class="t-p5 black-t">@Item.Age</label>
                                                                    </td>
                                                                    <td width="180" align="center">
                                                                        <label class="t-p5 black-t">@Item.Mobile</label>
                                                                    </td>

                                                                </tr>
                                                                i++;
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <tr>
                                                                <td width="180" colspan="4" class="t-c">
                                                                    <label class="t-p5 black-t t-c">No User's Found</label>
                                                                </td>
                                                            </tr>
                                                        }
                                                    </thead>
                                                </table>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <!-- end personal info form -->
                </div>
            }
            <hr class="mN" />
            <div class="clearfix sepH_b b-m0"></div>
            @if (objEventUserInfo.objEventOrderDetails.PaymentMethodId != 0)
            {
                <div class="custom-adn grayBackground nobL nobR">
                    <div class="ui-accordion">
                        <h3 class="bor0 black-t"><b>Payment Details</b></h3>
                        <div class="clearfix">
                            <div class="row-fluid">
                                <div class="span6">
                                    <div class="clearfix rp10">
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Payment Method :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@(objEventUserInfo.objEventOrderDetails.PaymentMethod == null ? "N/A" : objEventUserInfo.objEventOrderDetails.PaymentMethod)</label>
                                            </div>
                                        </div>
                                        <div class="row-fluid">
                                            <div class="span5">
                                                <label>Transaction Id  :</label>
                                            </div>
                                            <div class="span6">
                                                <label class="t-p5 black-t">@(objEventUserInfo.objEventOrderDetails.TransactionId == null ? "N/A" : objEventUserInfo.objEventOrderDetails.TransactionId)</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="span6">
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label>Amount :</label>
                                        </div>
                                        <div class="span6">
                                            $ @(objEventUserInfo.objEventOrderDetails.AmountPaid == null ? "N/A" : objEventUserInfo.objEventOrderDetails.AmountPaid.ToString())<span id="payamount"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid">
                                        <div class="span5">
                                            <label>Payment Status :</label>
                                        </div>
                                        <div class="span6">
                                            <label class="t-p5 black-t">@(objEventUserInfo.objEventOrderDetails.PaymentStatus == null ? "N/A" : objEventUserInfo.objEventOrderDetails.PaymentStatus)</label>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
            <hr class="mN" />
            <div class="clearfix sepH_b b-m0"></div>
            <div class="custom-adn grayBackground nobL nobR">
                @using (Html.BeginForm("InsertComments", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    <input id="EventUserInfoId" name="EventUserInfoId" type="hidden" value="@objEventUserInfo.EventUserInfoId" />
                    <input id="EventCommentId" name="EventCommentId" type="hidden" value="@objEventUserInfo.EventCommentId" />
                    <div class="ui-accordion">

                        <div class="row-fluid">
                            <div class="span6">
                                <div class="clearfix rp10">
                                    <div class="row-fluid">

                                        <div class="span12">
                                            <label class="t-p5">Comments :</label>
                                            <textarea id="Comment" class="input-block-level" name="Comment">@objEventUserInfo.Comment</textarea>
                                            <span id="spanComment" class="field-validation-error"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="span6">
                                <div class="clearfix">

                                    <div class="row-fluid">

                                        <div class="span12">
                                            <label class="t-p5">Status :</label>
                                            <select class="input-block-level" name="PaymentStatusId" id="PaymentStatusId">
                                                <option selected="selected" disabled="disabled" value="Check In">Check In</option>

                                            </select>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="clearfix t-c">
                            <input type="submit" value="Update" onclick="return Validate()" name="send" class="button2 btn btn-primary" />
                        </div>
                    </div>
                }
            </div>
                    <!-- end other details form -->


                    <div class="adminfooter"></div>
                </div>
            </div>

    <script type="text/javascript">
        function Validate() {
            
            if ($('#Comment').val() == '') { $('#spanComment').html('Required.'); $('#Comment').focus().addClass("red-border"); return false; } else { $('#spanComment').html(''); $('#Comment').focus().removeClass("red-border"); }
        }
    </script>

</body>
</html>